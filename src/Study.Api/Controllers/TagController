using MediatR;
using Microsoft.AspNetCore.Mvc;
using Study.Application.Common;
using Study.Application.Tags;

namespace Study.Api.Controllers;

[ApiController]
[Route("api/[controller]")]
public class TagsController : ControllerBase
{
    private readonly IMediator _mediator;
    public TagsController(IMediator mediator) => _mediator = mediator;

    public record CreateTagRequest(string Name);

    [HttpPost]
    public async Task<ActionResult<OperationResult<TagDto>>> Create([FromBody] CreateTagRequest req)
        => await _mediator.Send(new CreateTagCommand(req.Name));
}
